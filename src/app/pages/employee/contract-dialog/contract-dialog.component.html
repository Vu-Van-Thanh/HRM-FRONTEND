<h2 mat-dialog-title>{{data.contract ? 'Chỉnh sửa' : 'Thêm'}} hợp đồng</h2>
<form [formGroup]="contractForm" (ngSubmit)="onSubmit()">
  <mat-dialog-content>
    <div class="form-container">
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Số hợp đồng</mat-label>
        <input matInput formControlName="contractNumber" required>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Loại hợp đồng</mat-label>
        <mat-select formControlName="contractType" required>
          <mat-option *ngFor="let type of contractTypes" [value]="type">{{type}}</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Ngày bắt đầu</mat-label>
        <input matInput [matDatepicker]="startDatePicker" formControlName="startDate" required>
        <mat-datepicker-toggle matSuffix [for]="startDatePicker"></mat-datepicker-toggle>
        <mat-datepicker #startDatePicker></mat-datepicker>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Ngày kết thúc</mat-label>
        <input matInput [matDatepicker]="endDatePicker" formControlName="endDate">
        <mat-datepicker-toggle matSuffix [for]="endDatePicker"></mat-datepicker-toggle>
        <mat-datepicker #endDatePicker></mat-datepicker>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Hệ số lương</mat-label>
        <input matInput type="number" formControlName="salaryIndex" required>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Lương cơ bản</mat-label>
        <input matInput type="number" formControlName="salaryBase" required>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Chức vụ</mat-label>
        <input matInput formControlName="position" required>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>URL hợp đồng</mat-label>
        <input matInput formControlName="contractUrl">
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Trạng thái</mat-label>
        <mat-select formControlName="status" required>
          <mat-option value="Đang hiệu lực">Đang hiệu lực</mat-option>
          <mat-option value="Hết hạn">Hết hạn</mat-option>
          <mat-option value="Đã hủy">Đã hủy</mat-option>
        </mat-select>
      </mat-form-field>
      <div class="file-upload-container">
        <label class="file-label">Tệp hợp đồng (Word)</label>
        <div class="file-input-wrapper">
          <input type="file" id="fileInput" (change)="onFileSelected($event)" accept=".doc,.docx" />
          <button mat-stroked-button type="button" (click)="triggerFileInput()">
            <mat-icon>upload_file</mat-icon>
            Chọn file
          </button>
          <span class="file-name" *ngIf="selectedFile">{{selectedFile.name}}</span>
        </div>
      </div>
      
    </div>
  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <button mat-button (click)="onCancel()">Hủy</button>
    <button mat-raised-button color="primary" type="submit" [disabled]="!contractForm.valid">
      {{data.contract ? 'Cập nhật' : 'Thêm'}}
    </button>
  </mat-dialog-actions>
</form>
